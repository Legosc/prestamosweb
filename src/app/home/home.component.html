<div class="row" *ngFor="let d of UserPrestamo">
  <div class="col s12 m12">
    <div class="card" style="background-color: aliceblue;">
      <div class="card-content">
        <div class="card">
          <div class="card-content">
            <span class="card-title"><b>Saldo de Préstamo</b></span>
            <button class="btn waves-effect waves-light" type="submit" (click)='pagar(d)'>Pagar</button>
            <table class="responsive-table">
              <thead>
                <tr>
                  <td>Monto Aprobado</td>
                  <td>Saldo del Crédito</td>
                  <td>Cuota Mensual</td>
                  <td>Fecha de próximo pago</td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{{d.aprobado | number:'.2'}}</td>
                  <td>{{d.saldo | number:'.2'}}</td>
                  <td>{{d.cuota | number:'.2'}}</td>
                  <td>{{d.proximo_pago.seconds*1000| date : 'dd/MM/yyyy'}}</td>

                </tr>
              </tbody>
            </table>
            <mat-progress-bar class="determinate" value="{{100-((d.saldo*100)/d.aprobado)}}">
            </mat-progress-bar>
          </div>
        </div>
        <div class="card">
          <div class="card-content">
            <span class="card-title"><b>Pagos Realizados</b></span>
            <div class="row">
              <mat-accordion>
                <mat-expansion-panel *ngFor="let p of d.pagos;">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      <h6><b>Monto Total: <span style="color: green">{{p.pago | number:'.2'}}</span></b></h6>
                    </mat-panel-title>
                    <mat-panel-description>
                      <h6>Saldo anterior: <span style="color:red">{{p.sal_ante | number:'.2'}}</span></h6>
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <div class="row">
                    <div class="col s4">
                      <h6>Fecha de Pagado</h6>
                      <p>{{p.fecha_pago | date:'medium'}}</p>
                    </div>
                    <div class="col s4">
                      <h6>Interés Pagado</h6>
                      <p>{{p.intereses | number:'.2'}}</p>
                    </div>
                    <div class="col s4">
                      <h6>Pago de Capital</h6>
                      <p>{{p.aporte | number:'.2'}}</p>
                    </div>

                  </div>



                </mat-expansion-panel>

              </mat-accordion>


            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>